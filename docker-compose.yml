# docker-compose.yml
# éƒ¨ç½² plusins-api ä¸ plusins-rpc
# å…±ç”¨ core-api çš„æ•°æ®åº“ä¸ Redis
# ä¸å†ç‹¬ç«‹å¯åŠ¨ postgres/redis å®¹å™¨

services:
  # -------------------------------------------------
  # ğŸ§  Plusins API æœåŠ¡ï¼ˆå‰ç«¯å…¥å£ï¼‰
  # -------------------------------------------------
  plusins-api:
    build:
      context: ./plusins_api
      args:
        PROJECT: plusins
    container_name: plusins-api
    ports:
      - "8081:8081"
    restart: always
    environment:
      TZ: Asia/Manila
    depends_on:
      - plusins-rpc
    volumes:
      - ./plusins_api/etc:/app/etc
    networks:
      - plusins-net

  # -------------------------------------------------
  # âš™ï¸ Plusins RPC æœåŠ¡ï¼ˆå†…éƒ¨é€šä¿¡ï¼‰
  # -------------------------------------------------
  plusins-rpc:
    build:
      context: ./plusins_rpc
      args:
        PROJECT: plusins
    container_name: plusins-rpc
    ports:
      - "9103:9103"
    restart: always
    environment:
      TZ: Asia/Manila
    volumes:
      - ./plusins_rpc/etc:/app/etc
    networks:
      - plusins-net

# -------------------------------------------------
# ğŸ•¸ï¸ ç½‘ç»œå®šä¹‰
# -------------------------------------------------
networks:
  plusins-net:
    driver: bridge
