version: "3.8"

services:
  plusins-api:
    build:
      context: ./plusins_api
      args:
        PROJECT: plusins
    container_name: plusins-api
    ports:
      - "8081:8081"
      - "9010:8081"
    restart: always
    environment:
      TZ: Asia/Manila
      GOMODCACHE: /go/pkg/mod
    depends_on:
      - plusins-rpc
    volumes:
      - /home/a/gg-pr-plusins/plusins_api/etc:/app/etc
      - /home/a/simple-admin-core/resource/i18n:/app/resource/i18n
    networks:
      - plusins-net

  plusins-rpc:
    build:
      context: ./plusins_rpc
      args:
        PROJECT: plusins
    container_name: plusins-rpc
    restart: always
    environment:
      TZ: Asia/Manila
      GOMODCACHE: /go/pkg/mod
    volumes:
      - /home/a/gg-pr-plusins/plusins_rpc/etc:/app/etc
    networks:
      - plusins-net

networks:
  plusins-net:
    driver: bridge

